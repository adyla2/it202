<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.blue-green.min.css" />
  <link rel="stylesheet" href="style.css">
  <link rel='manifest' href='manifest.json'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"></meta>
  <meta charset="UTF-8"><meta>
  
</head>


<body>
   <!--Simple header with fixed tabs. -->
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header
                    mdl-layout--fixed-tabs">
    <header class="mdl-layout__header">
       <!--Tabs -->
      <div class="mdl-layout__tab-bar mdl-js-ripple-effect">
        <a href="#fixed-tab-1" class="mdl-layout__tab is-active ">Map</a>
        <a href="#fixed-tab-2" class="mdl-layout__tab">Fact Sheet</a>
        <a href="#fixed-tab-3" class="mdl-layout__tab">Ways to Help</a>
        <a href="#fixed-tab-4" class="mdl-layout__tab">About Me</a>
      </div>
    </header>


    <main class="mdl-layout__content">


      <!-- SECTION 1 : Google Map API where selection of a region brings up historical temperature change data need search engine to find city and date-->
<section class="mdl-layout__tab-panel is-active" id="fixed-tab-1">
  <div class="page-content mdl-grid">
    <div class="mdl-cell mdl-cell--12-col">
      <div>
          <input list="cities" name="cities" id="searchBox">
          <datalist id="cities">
          </datalist>
          <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" id="searchButton">
            Search
          </button>
        <div id="map"></div>
      </div>
    </div>
  </div>
</section>
      <!-- SECTION 2: More changing weather facts --------------------------------------->
      <!-- Data taken from : https://www.ncdc.noaa.gov/monitoring-references/faq/global-warming.php-->
      <section class="mdl-layout__tab-panel" id="fixed-tab-2">
        <div class="page-content demo-layout-transparent mdl-layout">
          <!-- CONTENT HERE -->
          <div id="leftmargin">
                <p id="text">GLOBAL WARMING FACTSHEET</p>
                  <p id="text">The Greenhouse Effect<p>
                  <p id="colorchange"> The greenhouse effect is unquestionably real and helps to regulate the temperature of 
                  our planet. It is essential for life on Earth and is one of Earth's natural processes. 
                  It is the result of heat absorption by certain gases in the atmosphere (called greenhouse 
                  gases because they effectively 'trap' heat in the lower atmosphere) and re-radiation 
                  downward of some of that heat. Water vapor is the most abundant greenhouse gas, followed 
                  by carbon dioxide and other trace gases. Without a natural greenhouse effect, the 
                  temperature of the Earth would be about zero degrees F (-18°C) instead of its present 57°F 
                  (14°C). So, the concern is not with the fact that we have a greenhouse effect, but whether 
                  human activities are leading to an enhancement of the greenhouse effect by the emission of 
                  greenhouse gases through fossil fuel combustion and deforestation.</p>
                  <p id="text">Increase of Greenhouse Gases</p>
                  <p id="colorchange"> Human activity has been increasing the concentration of greenhouse gases in the 
                  atmosphere (mostly carbon dioxide from combustion of coal, oil, and gas; plus a few other 
                  trace gases). There is no scientific debate on this point. Pre-industrial levels of carbon 
                  dioxide (prior to the start of the Industrial Revolution) were about 280 parts per million 
                  by volume (ppmv), and current levels are greater than 380 ppmv and increasing at a rate of 
                  1.9 ppm yr-1 since 2000. The global concentration of CO2 in our atmosphere today far exceeds
                  the natural range over the last 650,000 years of 180 to 300 ppmv. According to the IPCC 
                  Special Report on Emission Scenarios (SRES), by the end of the 21st century, we could 
                  expect to see carbon dioxide concentrations of anywhere from 490 to 1260 ppm (75-350% 
                  above the pre-industrial concentration).</p>
                  <p id="text">Conditions in Historical Context</p>
                  <p id="colorchange"> Paleoclimatic data are critical for enabling us to extend our knowledge of climatic 
                  variability beyond what is measured by modern instruments. Many natural phenomena are 
                  climate dependent (such as the growth rate of a tree for example), and as such, provide 
                  natural 'archives' of climate information. Some useful paleoclimate data can be found in 
                  sources as diverse as tree rings, ice cores, corals, lake sediments (including fossil 
                  insects and pollen data), speleothems (stalactites etc), and ocean sediments. Some of 
                  these, including ice cores and tree rings provide us also with a chronology due to the 
                  nature of how they are formed, and so high resolution climate reconstruction is possible 
                  in these cases. However, there is not a comprehensive 'network' of paleoclimate data as 
                  there is with instrumental coverage, so global climate reconstructions are often difficult
                  to obtain. Nevertheless, combining different types of paleoclimate records enables us to 
                  gain a near-global picture of climate changes in the distant past. For Northern Hemisphere
                  temperature, recent decades appear to be the warmest since at least about 1000AD, and 
                  the warming since the late 19th century is unprecedented over the last 1000 years.
                  Older data are insufficient to provide reliable hemispheric temperature estimates. 
                  Ice core data suggest that the 20th century has been warm in many parts of the globe, but 
                  also that the significance of the warming varies geographically, when viewed in the context 
                  of climate variations of the last millennium.

                  Large and rapid climatic changes affecting the atmospheric and oceanic circulation and 
                  temperature, and the hydrological cycle, occurred during the last ice age and during the 
                  transition towards the present Holocene period (which began about 10,000 years ago). Based 
                  on the incomplete evidence available, the projected change of 3 to 7°F (1.5 - 4°C) over the 
                  next century would be unprecedented in comparison with the best available records from the 
                  last several thousand years.</p>
           
                  <p id="text">Global Temperatures</p>
                  <p id="colorchange"> Global surface temperatures have increased about 0.74°C (plus or minus 0.18°C) since 
                  the late–19th century, and the linear trend for the past 50 years of 0.13°C (plus or minus
                  0.03°C) per decade is nearly twice that for the past 100 years. The warming has not been 
                  globally uniform. Some areas (including parts of the southeastern U.S. and parts of the 
                  North Atlantic) have, in fact, cooled slightly over the last century. The recent warmth has
                  been greatest over North America and Eurasia between 40 and 70°N. Lastly, seven of the eight
                  warmest years on record have occurred since 2001 and the 10 warmest years have all occurred 
                  since 1995.
                  Recent analyses of temperature trends in the lower and mid- troposphere (between about 
                  2,500 and 26,000 ft.) using both satellite and radiosonde (weather balloon) data show 
                  warming rates that are similar to those observed for surface air temperatures. These warming
                  rates are consistent with their uncertainties and these analyses reconcile a discrepancy 
                  between warming rates noted on the IPCC Third Assessment Report (U.S. Climate Change 
                  Science Plan Synthesis and Assessment Report 1.1).</p>
                  <p id="text">Climate Variability and Extremes</p>
                  <p id="colorchange"> Examination of changes in climate extremes requires long-term daily or even hourly data
                  sets which until recently have been scarce for many parts of the globe. However these data 
                  sets have become more widely available allowing research into changes in temperature and 
                  precipitation extremes on global and regional scales. Global changes in temperature extremes
                  include decreases in the number of unusually cold days and nights and increases in the 
                  number of unusually warm days and nights. Other observed changes include lengthening of 
                  the growing season, and decreases in the number of frost days.

                  Global temperature extremes have been found to exhibit no significant trend in interannual 
                  variability, but several studies suggest a significant decrease in intra-annual variability.
                  There has been a clear trend to fewer extremely low minimum temperatures in several 
                  widely-separated areas in recent decades. Widespread significant changes in extreme high
                  temperature events have not been observed. There is some indication of a decrease in 
                  day-to-day temperature variability in recent decades.In areas where a drought or excessive
                  wetness usually accompanies an El Niño or La Niña, these dry or wet spells have been more 
                  intense in recent years. Further, there is some evidence for increasing drought worldwide, 
                  however in the U.S. there is no evidence for increasing drought. In some areas where overall 
                  precipitation has increased (ie. the mid-high northern latitudes), there is evidence of increases 
                  in the heavy and extreme precipitation events. Even in areas such as eastern Asia, it has been found 
                  that extreme precipitation events have increased despite total precipitation remaining constant or
                  even decreasing somewhat. This is related to a decrease in the frequency of precipitation in this 
                  region.</p>
                  <p id="colorchange">A BIG THANK YOU to NOAA for the content for this page. If you want to learn more about Global Warming please visit the 
                  National Oceanic and Atmospheric Administration<a href="http://www.noaa.gov/climate"> HERE.</a></p>
           </div> 
        </div>
      </section>
      <!-- SECTION 3: CREATION OF YOUR OWN LIST SPECIFIC TO YOUR LIFESTYLE to reduce YOUR carbon footprint and Info   -->
      <section class="mdl-layout__tab-panel" id="fixed-tab-3">
        <div class="page-content mdl-grid">

          <!-- This card is for making personal list for changing your own lifestyle-->
          <div class="mdl-cell mdl-cell--6-col">
            <div class="mdl-card" id="helpful_tips">
              <div class="mdl-card__title">Make Your Own List to Reduce Your Carbon Footprint</div>
              <div class="mdl-card__media">
                <img height="652px" src="img/earth1.jpeg" width="100%" />
              </div>
              <div class="mdl-card__supporting-text">
                <p style="font-size: 18px">Here you can create your own checklist, of ways you can reduce YOUR carbon footprint. This list should be customized to your lifestyle.</p>
                <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable" width=100%>
                  <thead>
                    <tr>
                      <th class="mdl-data-table__cell--non-numeric" style="font-size:18px">To Do</th>
                      <td></td>
                      <td></td>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="mdl-data-table__cell--non-numeric">
                        <!-- Add user input text box here -->
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample1">
                        </div>
                      </td>
                      <td></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td class="mdl-data-table__cell--non-numeric">
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample2">
                        </div>
                      </td>
                      <td></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td class="mdl-data-table__cell--non-numeric">
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample3">
                        </div>
                      </td>
                      <td></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td class="mdl-data-table__cell--non-numeric">
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample4">
                        </div>
                      </td>
                      <td></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td class="mdl-data-table__cell--non-numeric">
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample5">
                        </div>
                      </td>
                      <td></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td class="mdl-data-table__cell--non-numeric">
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample6">
                        </div>
                      </td>
                      <td></td>
                      <td></td>
                    </tr>
                  </tbody>
                </table>
                <p id="button">
                  <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored" id="saveList">
                              SAVE THIS LIST 
                            </button>
                </p>
              </div>
            </div>
          </div>

          <!--This card lists helpful ways to help with global warming-->
          <!-- http://www.livescience.com/topics/global-warming -->
          <div class="mdl-cell mdl-cell--6-col">
            <div class="mdl-card" id="helpful_tips">
              <div class="mdl-card__title">Here are Some Ways to Help Global Warming</div>
              <div class="mdl-card__media">
                <img src="img/ice.jpg" width="100%" height="652px" />
              </div>
              <div class="mdl-card__supporting-text">
                <p style="font-size: 18px">Global warming is the term used to describe a gradual increase in the average temperature of the Earth's atmosphere and its oceans, a change that is believed to be permanently changing the Earth’s climate.</p>
                <!--   Begin List of Ways to Reduce Global Warming  -->
                <!-- http://homeguides.sfgate.com/top-ways-stop-global-warming-78809.html -->
                <ul class="demo-list-three mdl-list">
                  <!--Helpful TIP #1-->
                  <li>
                    <span class="mdl-list__item-primary-content">
                                      <i class="material-icons">star</i>
                                      <span id="list_title">Reduce Fossil Fuel Use</span>
                    <span class="mdl-list__item-text-body">
                                        <p>There are two ways to reduce fossil fuel use: Use less energy, or use alternative, nonpolluting energy sources like solar and wind power.  
                                        At home, this translates to saving electricity by using energy-efficient appliances and compact fluorescent light bulbs, 
                                        as well as reducing gasoline use and buying green power from your electricity provider, if available.</p>
                                      </span>
                    </span>
                  </li>
                  <!--Helpful Tip #2-->
                  <li>
                    <span class="mdl-list__item-primary-content">
                                      <i class="material-icons">star</i>
                                      <span id="list_title">Plant Trees</span>
                    <span class="mdl-list__item-text-body">
                                        <p>Because carbon dioxide is the most important greenhouse gas, planting trees and other plants can slow or stop global warming.
                                        Deforestation of rain forests is a large contributor to global warming and CO2 emissions, but planting new trees, even in your own backyard, 
                                        can help to offset this.</p>
                                      </span>
                    </span>
                  </li>

                  <!--Helpful Tip #3-->
                  <li>
                    <span class="mdl-list__item-primary-content">
                                      <i class="material-icons">star</i>
                                      <span id="list_title">Reduce Waste</span>
                    <span class="mdl-list__item-text-body">
                                        <p>Decomposing waste in landfills produces methane and other greenhouse gases. Waste also requires energy to manufacture in the first place. 
                                        Reducing your consumption patterns and reusing items whenever possible minimizes your carbon footprint, since fewer new items need to be made. 
                                        Recycling metal, plastic, glass and paper lowers greenhouse gas emissions, since recycled items take far less energy to manufacture than items produced from scratch.</p>
                                      </span>
                    </span>
                  </li>
                  <!--Helpful Tip #4-->
                  <li>
                    <span class="mdl-list__item-primary-content">
                                      <i class="material-icons">star</i>
                                      <span id="list_title">Conserve Water</span>
                    <span class="mdl-list__item-text-body">
                                        <p>Cities consume significant amounts of energy when purifying and distributing water, which contributes to greenhouse gas emissions. 
                                        Saving water reduces the amount of energy used. At home, turn off water immediately whenever you're not using it, and repair or replace leaky faucets and toilets. 
                                        In your yard, landscape with plants and grasses that require less water, and capture rainwater in barrels for irrigating.</p>
                                      </span>
                    </span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>


      <!--       -------------------------        About Me Section          ------------------------------         -->

      <section class="mdl-layout__tab-panel" id="fixed-tab-4">
        <div class="page-content mdl-grid">

          <!-- Github Page Card -->
          <div class="mdl-cell mdl-cell--4-col">
            <div class="mdl-card">
              <div class="mdl-card__title">Github Page</div>
              <div class="mdl-card__media">
                <img src="img/github-student.jpg" width="100%" />
              </div>
              <div class="mdl-card__supporting-text">
                <p>If you would like to follow me on Github or just check out some of the projects I've done. Click <a href="https://github.com/adyla2/it202"> here</a> for my Github for IT_202.</p>
              </div>
            </div>
          </div>

          <!-- About Me Card-->
          <div class="mdl-cell mdl-cell--4-col">
            <div class="mdl-card">
              <div class="mdl-card__title">About Me</div>
              <div class="mdl-card__media">
                <img src="img/me.png" width="100%" />
              </div>
              <div class="mdl-card__supporting-text">
                <p>My name is Alexandra Dyla, and I'm currently a student at the University of Illinois Chicago. 
                I've been working toward my degree in Computer Engineering. My expected graduation is May 2017. 
                Some of my interests include computer architecture,
                  networking, and computer systems.</p>
              </div>
            </div>
          </div>

          <!-- Contact Info Card-->
          <div class="mdl-cell mdl-cell--4-col mdl-card">
            <div class="mdl-card">
              <div class="mdl-card__title">Contact Information</div>
              <div class="mdl-card__media">
                <img src="img/Email.ico" width="100%" />
              </div>
              <div class="mdl-card__supporting-text">
                <p>Please feel free to email with questions at <a href="mailto:adyla2@uic.edu">adyla2@uic.edu.</p>
                            </div>
                        </div>
                    </div>
              </div>
            </section>
<!-- ----------------------------------------    END OF ABOUT ME      ------------------------------------------- -->
            
  </main>
</div>
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script> <!--jquery added-->
    <script src="https://unpkg.com/dexie@latest/dist/dexie.js"></script>    <!-- dexie included -->
    <script src="locations.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script>
    
    // Define your database
    //database saves the list input by the user page 3
    var db = new Dexie("list_database");
    db.version(1).stores({
     list : '++id, item1, item2, item3, item4, item5, item6'
    });
    
    
    //on button press, save list, saves the items you've entered 
    //if sucessfully added to DB then clear text field 
      $("#saveList").on( "click", function() {
         db.list.add({
        	item1: $("#sample1").val(),
        	item2: $("#sample2").val(),
        	item3: $("#sample3").val(),
        	item4: $("#sample4").val(),
        	item5: $("#sample5").val(),
        	item6: $("#sample5").val(),
        	}).then(function(){
        	   $("#sample1").val('')
        	   $("#sample2").val('');
        	   $("#sample3").val('');
        	   $("#sample4").val('');
        	   $("#sample5").val('');
        	   $("#sample6").val('');
        	});
      });
 
    </script>
    
    <script>
      $("#searchButton").on( "click", function() {
        search = $("#searchBox").val();
        searchInObj(search, locationData);
      });
      
      var tempData= 0;    //hold temperature data for a particular place 
      var contentString;  //holds data for click-able markers 
      var citycode;       //citycode to concat to ajax call for average temp data 
      var results = [];   //holds all results from 1980 locations 
      var geocoder, map;   //for google maps initializations 
      var i;
      var years = {};      //years object contains year and sum of temperature average values 
      var myDate;          
      var myYear;
      var search;
      
      google.charts.load('current', {'packages':['line', 'corechart']});
      //google.charts.setOnLoadCallback(drawChart);
      //initializations for google maps api 
      function initMap (){
        geocoder = new google.maps.Geocoder();
        map = new google.maps.Map(document.getElementById("map"), {
          zoom: 2,
          center: {lat:19.8781 , lng:7.6298 },
          mapTypeId: 'terrain'
      }); 
      

      //parses through my location data and creates option tag in dataset so user can see drop down menu
      $.each(locationData, function(i, v){
         $( "#cities" ).append('<option value="'+ v.name +'">'
          +v.id + "</option>");
      });
        };

      
        function searchInObj(nameKey, myArray) {
          var myCity = myArray.find(function(obj){
            return obj.name == nameKey;
          });
          
          
          var url2 = "https://www.ncdc.noaa.gov/cdo-web/api/v2/data?datasetid=GSOM&locationid=" + myCity.id + "&startdate=2001-01-02&enddate=2010-01-02&datatypeid=TAVG&limit=850";
          //ajax call to the dataset for the specified city 
          $.ajax({
            url: url2,
            data: {},
            headers: {
              token: 'VokiKDjKShlWoaiDtyUEkFGwfqTPOLIz'
            }
          }).done(function(data) {
            $.each(data.results, function(k, value) {
              //get year 
              //test object if year exists 
              //update objects 
              //else, create new object for that year 
              myDate = new Date(value.date);    //this is the date 
              myYear = myDate.getFullYear().toString();    //this is the year 
              if(years[myYear]){
                //if it is here we update 
                years[myYear].sum += parseFloat(value.value);
                years[myYear].count ++;
                
              }
              else{
                years[myYear] = {sum: parseFloat(value.value) , count: 1}
              }
            });
            //async operations, need to call geocode from here so that object has items in it 
            //this causes the tag to show up with a little delay but ensures data available 
            codeAddress(search);
          });
        }
      
      //uses geocode to find location and place marker 
      function codeAddress(address) {
        geocoder.geocode({
          'address': address
        }, function(results, status) {
          if (status === google.maps.GeocoderStatus.OK) {
            $("#searchBox").val('');    //clears search box 
            contentString = address + ": " + "<br>" +       //constructs content string for display 
            "Yearly Temperature Averages: " + "<br>" ;
            
            $.each(years, function(k, value){             
              contentString += k + ": " + ((value.sum)/(value.count)) + " C"  +"<br>";       //includes the averages for each year and appends them to content string 
            });
            
            var infowindow = new google.maps.InfoWindow({
              content: contentString
            });
            

            map.setCenter(results[0].geometry.location);
            var marker = new google.maps.Marker({
              map: map,
              position: results[0].geometry.location
            });
            
            marker.addListener('click', function() {
              infowindow.open(map, marker);
            });
          }
          else {
            alert('City NOT recognized. TRY AGAIN.');
          }
        });
      }

    </script>
    
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDHPfpisryAI8Evjoc1qesN_Uqm-_fb_qU&callback=initMap"
    type="text/javascript"></script>
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    
    </body>
</html>
